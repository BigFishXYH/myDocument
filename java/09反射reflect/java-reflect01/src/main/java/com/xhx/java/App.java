package com.xhx.java;

import com.xhx.java.abs.IParent;
import com.xhx.java.iml.Child;
import com.xhx.java.utils.ReflectUtils;

import java.lang.reflect.Field;
import java.lang.reflect.Method;

public class App {

    public static void main(String[] args) throws Exception {


        Class<Child> clazz = Child.class;
        Child child = clazz.newInstance();

        Method[] declaredMethods = clazz.getDeclaredMethods();
        System.out.println(declaredMethods.length);
        //0  子类反射不到父类的方法

        Field[] declaredFields = clazz.getDeclaredFields();
        System.out.println(declaredFields.length);
        //0  子类反射不到父类的属性

        Method method1 = ReflectUtils.getDeclaredMethod(clazz, "getString");
        Object o = ReflectUtils.invokeMethod(child, method1);
        System.out.println(o);
        //abcd

        Field field = ReflectUtils.getDeclaredField(clazz, "id");
        Object fieldValue = ReflectUtils.getFieldValue(child, field);
        System.out.println(fieldValue);
        //1245
    }
}
