# 服务器配置选项

redis服务器提供了一些配置选项，通过修改这些选项的值，可以改变选项对应的功能行为。

## 1. 修改选项的值

- 在启动服务器时，通过给定参数的方式来为配置选项设置值

  `redis-server --databases 32 -- port 10026`

- 通过给定配置文件

  `redis-server redis.conf`

- 使用config系列命令，用户可以在服务器运行时动态修改选项的值，也可以通过命令获取选项当前的值，等待。

  `config get lua-time-limit`

  `config set lua-time-limit 5000`

  注意：

  - 并不是所有配置选项都可以在服务器运行时动态地设置，有一些配置必须在服务器启动时才能设置。
  - 只会在服务器运行过程中生效，一旦服务器关机，config set的值就会消失

## 2. config rewrite命令

如果服务器在启动时载入了配置文件，并且在服务器运行的过程中使用了config set修改了配置选项的值，那么执行config rewrite命令可以将被修改的配置选项以及它的值写入到配置文件里面。

## 3. 基本配置

| 选项               | 作用                                               | 默认值       | 可在线修改 |
| ------------------ | -------------------------------------------------- | ------------ | ---------- |
| port <num>         | 服务器监听端口号                                   | 6379         | 否         |
| timeout <seconds>  | 在客户端处于空闲状态多久之后，服务器才会自动断开它 | 0 不主动断开 | 是         |
| loglevel <level>   | 服务器记录日志级别                                 | notice       | 是         |
| databases <num>    | 数据库数量                                         | 16           | 否         |
| requirepass        | 客户端连接服务器的密码                             | 无           | 是         |
| maxmemory<bytes>   | 可用的最大内存数量                                 | 不限制       | 是         |
| lua-time-limit<ms> | lua脚本正常运行时间                                | 5000         | 是         |

port: 端口号

timeout: 客户端处于空闲状态多久之后，服务器才会自动断开它