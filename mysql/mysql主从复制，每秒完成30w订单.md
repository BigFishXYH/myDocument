# mysql主从复制，每秒完成30w订单

- 从数据库方面入手
  - 加索引
  - 尽量考虑使用数值型
  - 尽量考虑定长而非变长
- 从sql优化入手
  - exist和in
  - in 和 not in
  - like的使用
- 分库分表-读写分离-主从复制
- 加缓存
- sharding-jdbc 美团   mycat 饿了么

## 1. 主从复制目的

分散压力

28法则 写少 读多

写操作-毫秒级

读操作-秒、分钟级 

## 2. 主从复制的步骤

1. binlog（二进制日志）和relaylog（中继日志）
2. 每个服务器都有id，也就是MySQL集群，每个集群都有一个唯一的标识
3. 授权信息（用户、密码、ip地址）
   1. 主服务器开通账户+设置权限（同步复制权限，复制binlog）
   2. 从服务器设置访问信息

## 3. my.cnf

